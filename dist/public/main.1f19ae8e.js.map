{"version":3,"sources":["main.js"],"names":["registrationData","occupations","stateOptions","dyslexiaModeCounter","dyslexiaModeBtn","document","getElementById","fullNameField","emailField","passwordField","confirmPasswordField","formSubmit","accountCreationForm","promptText","submissionSuccessful","occupationList","statesList","populateOccupations","i","length","options","Option","populateStates","name","comparePasswords","value","classList","remove","textElements","activateDyslexiaMode","forEach","el","add","showConfirmation","setTimeout","addEventListener","window","fetch","then","response","json","data","states","accountCreated","method","body","JSON","stringify","headers","ok","catch","error"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../../src/public","sourcesContent":["'use strict';\n\n// Data variables\n\nlet registrationData;\nlet occupations;\nlet stateOptions;\nlet dyslexiaModeCounter = 0;\n\n// Form selectors\nconst dyslexiaModeBtn = document.getElementById('dyslexiaMode');\nconst fullNameField = document.getElementById('userFullName');\nconst emailField = document.getElementById('userEmail');\nconst passwordField = document.getElementById('userPassword');\nconst confirmPasswordField = document.getElementById('confirmUserPassword');\nconst formSubmit = document.getElementById('submitRegistration');\nconst accountCreationForm = document.getElementById('creationForm');\nconst promptText = document.getElementById('accountCreationText');\nconst submissionSuccessful = document.getElementById('submissionSuccessful');\nlet occupationList = document.getElementById('occupationList');\nlet statesList = document.getElementById('statesList');\n\n// Form population functions\n\nconst populateOccupations = () => {\n  for (let i = 0; i < occupations.length; i++) {\n    occupationList.options[i] = new Option(`${occupations[i]}`);\n  }\n};\n\nconst populateStates = () => {\n  for (let i = 0; i < stateOptions.length; i++) {\n    statesList.options[i] = new Option(`${stateOptions[i + 1].name}`);\n  }\n};\n\nconst comparePasswords = () => {\n  if (passwordField.value === confirmPasswordField.value) {\n    return true;\n  } else {\n    document.getElementById('passwordErr').classList.remove('hidden');\n  }\n}\n\n// Dyslexic mode\n\nconst textElements = [promptText, accountCreationForm, submissionSuccessful];\n\nconst activateDyslexiaMode = () => {\n  dyslexiaModeCounter += 1;\n  if (dyslexiaModeCounter % 2 === 0) {\n    textElements.forEach( el => el.classList.remove('dyslexic'));\n  } else {\n    textElements.forEach( el => el.classList.add('dyslexic'));\n  }\n}\n\n// Submission confirmation\n\nconst showConfirmation = () => {\n  setTimeout(() => {\n    accountCreationForm.classList.add('hidden');\n    promptText.classList.add('hidden');\n    submissionSuccessful.classList.remove('hidden');\n  }, 500)\n}\n\n// Event Listeners/Fetches\n\ndyslexiaModeBtn.addEventListener('click', activateDyslexiaMode);\n\nwindow.addEventListener('load', () => {\n  fetch('https://frontend-take-home.fetchrewards.com/form')\n  .then(response => response.json())\n  .then(data => registrationData = data)\n  .then(data => occupations = registrationData.occupations)\n  .then(data => stateOptions = registrationData.states)\n  .then(() => populateOccupations())\n  .then(() => populateStates())\n});\n\nformSubmit.addEventListener('click', () => {\n  let accountCreated;\n  if (fullNameField.value && emailField.value && passwordField.value && confirmPasswordField.value) {\n    if (comparePasswords()) {\n      fetch('https://frontend-take-home.fetchrewards.com/form', {\n        method: 'POST',\n        body: JSON.stringify(\n          {\n            \"name\": fullNameField.value,\n            \"email\": emailField.value,\n            \"password\": passwordField.value,\n            \"occupation\": occupationList.value,\n            \"state\": statesList.value\n          }\n        ),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(response => {\n        if (response.ok) {\n          accountCreationForm.classList.add('vanish');\n          promptText.classList.add('vanish');\n          accountCreated = true;\n          showConfirmation();\n          return response.json();\n        }\n      })\n      .catch(error => {\n        if (!accountCreated) {\n          document.getElementById('submissionErr').classList.remove('hidden');\n        }\n      })\n    }\n  } else {\n    document.getElementById('incompleteForm').classList.remove('hidden');\n  }\n})\n"]}